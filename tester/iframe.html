<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport"
			content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Client</title>
</head>
<body>
<script src="../dist/iframe_bridge.js"></script>

<div id="messages"></div>

<script>
	var messages = document.getElementById('messages');
	var bridge = new IFrameBridge();
	window.name = 'iframe';

	bridge.on('ping', function (num) {
		var el = document.createElement('p');
		el.innerText = num;
		messages.appendChild(el);

		bridge.postMessage('pong', num);
	});


	bridge.on('aa', function (num) {
		console.log('received msg ' + num);
		bridge.postMessage('ping','aa');
	});

	bridge.init();
</script>
</body>
</html>